
package Main {

    fn mkBar() -> Bar^ {
        val r = newregion;
        val f = new@r Foo(10);
        val b = new@r Bar(f);
        return b
    }

    fn mkBarBad() -> Bar^ {
        val r = newregion;
        val s = newregion;
        val f = new@r Foo(10);
        val b = new@s Bar(f);   //> E : expected 'Foo^{s}', found 'Foo^{r}'
        return b
    }

}

struct Foo {
    var i: Int
}

struct Bar {
    var f: Foo^{reg}
}
